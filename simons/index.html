<!DOCTYPE html>
<html>
	<head>
	<title>Playground</title>
	<script type="text/javascript" src="three.js"></script>
	<script type="text/javascript" src="jquery-3.1.1.js"></script>
	<link href="style.css" type="text/css" rel="stylesheet" />
	</head>
	<body>
	<div id="glcontainer"></div>
	<script type="text/javascript">

			var cap;

		$(function() {
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
			var renderer = new THREE.WebGLRenderer();
			renderer.autoClear = true;
			renderer.setSize(window.innerWidth, window.innerHeight);
			var axis = new THREE.AxisHelper(20);

			var loader = new THREE.ObjectLoader();

			
			loader.load(
			    // resource URL
			    "Capacitor.json",
			
			    // pass the loaded data to the onLoad function.
			//Here it is assumed to be an object
			    function ( obj ) {
					//add the loaded object to the scene
					this.cap = obj;
			        scene.add( obj );
			    },
			
			    // Function called when download progresses
			    function ( xhr ) {
			        console.log( (xhr.loaded / xhr.total * 100) + '% loaded' );
			    },
			
			    // Function called when download errors
			    function ( xhr ) {
			        console.error( 'An error happened' );
			    }
			);

			var planeGeometry = new THREE.PlaneGeometry(60, 20, 1, 1);
			var planeMaterial = new THREE.MeshBasicMaterial({color:0xEEEEEE});
			var plane = new THREE.Mesh(planeGeometry, planeMaterial);
			//plane.rotation.y = -0.5*Math.PI;
			plane.position.x = 0;
			plane.position.y = 0;
			plane.position.z = 0;

			scene.add(plane);


			camera.position.x = 0;
			camera.position.y = 0;
			camera.position.z = 50;
			camera.lookAt(plane.position);


			var istrue = false;
			function render() {
				if(this.cap !== undefined && istrue !== true) {
					this.cap.rotation.y += (0.01);
				}
			requestAnimationFrame(render)
			renderer.render(scene, camera);
			}

			$("#glcontainer").append(renderer.domElement);
			render();

		});

	</script>
	</body>
</html>